# Reference: https://github.com/frappe/frappe_docker/blob/main/docs/environment-variables.md

# ========================================
# Image Configuration
# ========================================
# Frappe/ERPNext Version
ERPNEXT_VERSION=latest

# Custom Image (optional - defaults to frappe/erpnext)
CUSTOM_IMAGE=roohmeiy/frappe-layered

# Pull Policy: always, if_not_present, never
PULL_POLICY=if_not_present
#PULL_POLICY=never
# ========================================
# Database Configuration
# ========================================
# Database Password (change this!)
DB_PASSWORD=YourStrongPassword123!

# Only if you use docker secrets for the db password
DB_PASSWORD_SECRETS_FILE=

# Only if you use external database (leave empty for internal)
DB_HOST=
DB_PORT=

# MariaDB Version (for internal database)
MARIADB_VERSION=11.8

# ========================================
# Redis Configuration
# ========================================
# Only if you use external Redis (leave empty for internal)
REDIS_CACHE=
REDIS_QUEUE=

# Redis Version (for internal Redis)
REDIS_VERSION=6.2-alpine

# ========================================
# Site Creation Parameters
# ========================================
# Site Name (e.g., site1.local, erp.example.com)
SITE_NAME=site1.local

# Admin Password for the site
ADMIN_PASSWORD=admin

# Apps to install (comma-separated if multiple)
INSTALL_APPS=erpnext,insights,hrms

# Set as default site (use --set-default or leave empty)
SET_DEFAULT=--set-default

# ========================================
# Network & Frontend Configuration
# ========================================
# HTTP Port (default: 8080)
HTTP_PUBLISH_PORT=

# FRAPPE_SITE_NAME_HEADER
# Default value is `$$host` which resolves site by host. 
# For example, if your host is `example.com`, site's name should be `example.com`,
# or if host is `127.0.0.1` (local debugging), it should be `127.0.0.1`.
# This variable allows to override described behavior. 
# Let's say you create site named `mysite` and want to access it by `127.0.0.1` host.
# Then you would set this variable to `mysite`.
FRAPPE_SITE_NAME_HEADER=site1.local

# Default value is `127.0.0.1`. Set IP address as our trusted upstream address.
UPSTREAM_REAL_IP_ADDRESS=

# Default value is `X-Forwarded-For`. Set request header field whose value will be used to replace the client address
UPSTREAM_REAL_IP_HEADER=

# Allowed values are on|off. Default value is `off`.
UPSTREAM_REAL_IP_RECURSIVE=

# All Values Allowed by nginx proxy_read_timeout are allowed, default value is 120s
# Useful if you have longrunning print formats or slow loading sites
PROXY_READ_TIMEOUT=

# All Values allowed by nginx client_max_body_size are allowed, default value is 50m
# Necessary if the upload limit in the frappe application is increased
CLIENT_MAX_BODY_SIZE=

# ========================================
# HTTPS Configuration (Traefik)
# ========================================
# Only with HTTPS override
LETSENCRYPT_EMAIL=mail@example.com

# List of sites for letsencrypt certificates quoted with backtick (`) and separated by comma (,)
# More https://doc.traefik.io/traefik/routing/routers/#rule
# About acme https://doc.traefik.io/traefik/https/acme/#domain-definition
SITES=`site1.local`

# ========================================
# Notes
# ========================================
# - Change DB_PASSWORD to a strong password
# - For local testing, add domain to /etc/hosts:
#   echo "127.0.0.1 site1.local" | sudo tee -a /etc/hosts
# - Leave DB_HOST, DB_PORT, REDIS_CACHE, REDIS_QUEUE empty to use internal services
# - Set FRAPPE_SITE_NAME_HEADER to specific site name if not using $$host resolution
